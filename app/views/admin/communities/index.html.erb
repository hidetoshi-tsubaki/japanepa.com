<% content_for(:html_title) { "Communities Index" } %>
<div class="index_wrapper">
  <% breadcrumb :admin_communities, @communities %>
  <div class="search_wrapper">
    <h2><%= icon("fas","users") %>Community index </h2>
    <div class="search" id="date_input">
      <p class="bold">・ワード検索</p>
      <%= search_form_for @q, url: search_admin_communities_path do |f| %>
        <div class="field">
          <%= f.text_field :name_or_introduction_or_users_name_cont_any, class: "keyword_search" %>
          <p class="notes">※複数ワードの場合、スペース区切りで入力</p>
        </div>
        <div class="date_search_wrapper">
          <%= render 'date_search', f: f %>
        </div>
        <p id="clear_btn" class="bold right">全クリア</p>
        <%= f.submit 'Search' %>
      <% end %>
    </div>
    <div class="tag_search">
      <p class="bold">・タグ検索</p>
      <ul class="tags_section tags">
        <% if @tags.present? %>
          <%= render partial: 'tag', collection: @tags, as: :tag %>
        <% else %>
          <li>No tags....</li>
        <% end %>
      </ul>
    </div>
  </div>
  <div class="index">
    <p><%= link_to "全件表示", admin_communities_path(anchor: "index"), class: "show_all" %></p>
    <table class="index_table" id="index">
      <%= render 'column' %>
      <tbody>
        <% if @communities.present? %>
          <%= render partial: 'community', collection: @communities, as: :community %>
        <% end %>
      </tbody>
    </table>
    <%= paginate @communities, :params => { anchor: "index" } %>
    <% if @communities.blank? %>
      <div class="no_result">
        <h3 class="center">No communities....</h3>
        <p class="center"><%= link_to '一覧表示', admin_communities_path %></p>
      </div>
    <% end %>
  </div>
</div>